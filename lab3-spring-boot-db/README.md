# Торгівельна мережа (Trading Network Management System)

## Опис проекту

Веб-додаток для управління торгівельною мережею, що включає управління фірмами, постачальниками та продуктами. Проект реалізований з використанням Spring Boot та слідує архітектурному патерну MVC з багатошаровою структурою.

## Функціональність

### CRUD операції для трьох сутностей

#### 1. **Firms**

- **Create**: Додавання нової фірми з назвою та адресою
- **Read**: Перегляд списку всіх фірм та деталей окремої фірми
- **Update**: Редагування назви та адреси існуючої фірми
- **Delete**: Видалення фірми (каскадне видалення постачальників)

#### 2. **Suppliers**

- **Create**: Додавання нового постачальника з прив'язкою до фірми
- **Read**: Перегляд списку постачальників та детальної інформації
- **Update**: Редагування даних постачальника
- **Delete**: Видалення постачальника (каскадне видалення продуктів)

#### 3. **Products**

- **Create**: Додавання продукту з назвою, SKU, ціною та постачальником
- **Read**: Перегляд каталогу продуктів та деталей товару
- **Update**: Редагування характеристик продукту
- **Delete**: Видалення продукту з каталогу

### Відносини між сутностями

- **Firm → Supplier**: one-to-many
- **Supplier → Product**: one-to-many
- Каскадні операції видалення

## Технології

### Backend

- **Spring Boot 3.5.7** - основний фреймворк
- **Spring Data JPA** - робота з базою даних
- **Spring Security** - безпека (відключена для розробки)
- **Hibernate** - ORM
- **PostgreSQL 17** - продакшн база даних
- **H2** - тестова база даних
- **Jakarta Validation** - валідація даних

### Frontend

- **Thymeleaf** - шаблонізатор для HTML
- **HTML5/CSS3** - розмітка та стилі

### Інструменти

- **Maven** - збірка проекту
- **Docker Compose** - контейнеризація PostgreSQL
- **Spring DevTools** - підтримка hot reload
- **Lombok** - зменшення boilerplate коду

### Java версія

- **Java 25**

## Початкові дані

При першому запуску автоматично завантажуються тестові дані:

- 3 фірми (Tech Solutions, Global Trade, Eastern Electronics)
- 4 постачальники з різними контактами
- 8 продуктів (ноутбуки, монітори, периферія)

Дані завантажуються через `DataLoader` тільки якщо база порожня.

## Валідація даних

Всі форми включають server-side валідацію:

- **Name (Назва)**: 2-50 символів, літери, цифри...
- **Address (Адреса)**: 2-100 символів
- **Contact Info**: 5-100 символів, підтримка email (@, .)
- **SKU**: Тільки позитивні числа
- **Price (Ціна)**: Тільки позитивні числа

## Інструкція з запуску

### Передумови

- Docker та Docker Compose
- (Опціонально) Java 21+ та Maven для локальної розробки

### Варіант 1: Запуск у Docker (рекомендовано)

#### Крок 1: Клонування репозиторію

```bash
git clone https://github.com/MaxSeryy/Distribution_channel
cd Distribution_channel
```

#### Крок 2: Налаштування змінних оточення

Скопіювати дані з .env.example до .env та підставити свої

```properties
DB_NAME=
DB_USER=
DB_PASSWORD=
SPRING_PROFILE=default
```

#### Крок 3: Запуск всього проекту в Docker

```bash
docker-compose up --build
```

Ця команда:

- Побудує Docker образ для Spring Boot додатку
- Запустить PostgreSQL контейнер
- Запустить додаток у контейнері
- Автоматично налаштує мережу між сервісами

#### Крок 4: Відкрийте додаток у браузері

```text
http://localhost:8080
```

### Варіант 2: Локальна розробка

Якщо ви хочете запускати додаток локально для розробки:

#### Крок 1: Запуск тільки бази даних

```bash
docker-compose up postgres
```

#### Крок 2: Налаштування локальних змінних оточення

Переконайтеся, що у файлі `.env` або змінних оточення вказано:

```properties
DB_URL=jdbc:postgresql://localhost:5432/*name*
DB_USERNAME=*username*
DB_PASSWORD=*password*
```

#### Крок 3: Запуск додатку через Maven

```bash
mvn spring-boot:run
```

#### Крок 4: Доступ до додатку

```text
http://localhost:8080
```

### Тестування

Для запуску тестів локально:

```bash
mvn test
```

Тести використовують вбудовану H2 базу даних та не потребують Docker.
